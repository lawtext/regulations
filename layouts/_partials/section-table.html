<div class="section-table">
  {{ $pages := (where .Pages "Type" "docs").ByDate.Reverse }}
  {{ $pageSize := default 10 .Site.Params.page.pageSize }}
  {{ $paginator := .Paginate $pages $pageSize }}

  {{ if gt (len $paginator.Pages) 0 }}
  <table class="doc-table">
    <thead>
      <tr>
        <th>#</th>
        <th>æ ‡é¢˜</th>
        <th>æ—¥æœŸ</th>
        <th>åˆ¶å®š</th>
        <th>çŠ¶æ€</th>
      </tr>
    </thead>
    <tbody>
      {{ range $index, $page := $paginator.Pages }}
      <tr>
        <td>{{ add (mul (sub $paginator.PageNumber 1) $paginator.PagerSize) (add $index 1) }}</td>
        <td>ğŸ”— <a href="{{ $page.RelPermalink }}">{{ $page.Title }}</a></td>
        <td>
          {{ $date := "" }}
          {{ with .Params.publication_date }}
          {{ $t := time . }}
          {{ $date = $t.Format "2006-01-02" }}
          {{ else }}
          {{ with .Params.effective_date }}
          {{ $t := time . }}
          {{ $date = $t.Format "2006-01-02" }}
          {{ end }}
          {{ end }}
          {{ $date }}
        </td>
        <td>{{ with $page.Params.author }}{{ . }}{{ end }}</td>
        <td>
              {{ $status := .Params.status }}
    {{ if $status }}
      <span class="law-status 
        {{ cond (eq $status "å°šæœªç”Ÿæ•ˆ") "pending" "" }}
        {{ cond (eq $status "æœ‰æ•ˆ") "active" "" }}
        {{ cond (eq $status "å·²ä¿®æ”¹") "amended" "" }}
        {{ cond (eq $status "å·²åºŸæ­¢") "repealed" "" }}
        {{ cond (eq $status "æœªçŸ¥") "unknown" "" }}">
        {{ $status }}
      </span>
    {{ end }}
        </td>
      </tr>
      {{ end }}
    </tbody>
  </table>
  {{ else }}
  <p>æš‚æ— æ–‡ç« </p>
  {{ end }}

  {{/* åˆ†é¡µå¯¼èˆªï¼Œ5 ä¸ªä¸­é—´é¡µ + é¦–é¡µ/æœ«é¡µ + ä¸Š/ä¸‹ä¸€é¡µ */}}
  {{ $total := $paginator.TotalPages }}
  {{ $current := $paginator.PageNumber }}
  {{ $maxWindow := 5 }}

  {{ if gt $total 1 }}
  {{ $start := sub $current 2 }}
  {{ if lt $start 2 }}{{ $start = 2 }}{{ end }}
  {{ $end := add $start (sub $maxWindow 1) }}
  {{ if gt $end (sub $total 1) }}{{ $end = sub $total 1 }}{{ end }}
  {{ $start = sub $end (sub $maxWindow 1) }}
  {{ if lt $start 2 }}{{ $start = 2 }}{{ end }}

  <nav class="pagination">
    {{ if $paginator.HasPrev }}
    <a class="prev" href="{{ $paginator.Prev.URL }}">Â« ä¸Šä¸€é¡µ</a>
    {{ end }}

    {{/* é¦–é¡µ */}}
    {{ if ge $current 2 }}
    <a href="{{ $paginator.First.URL }}" class="{{ if eq $current 1 }}active{{ end }}">1</a>
    {{ if gt $start 2 }}<span>â€¦</span>{{ end }}
    {{ end }}

    {{/* ä¸­é—´é¡µç  */}}
    {{ range seq $start $end }}
    {{ $page := index $paginator.Pagers (sub . 1) }}
    <a href="{{ $page.URL }}" class="{{ if eq $current . }}active{{ end }}">{{ . }}</a>
    {{ end }}

    {{/* æœ«é¡µ */}}
    {{ if gt $total 1 }}
    {{ if lt $current $total }}
    {{ if lt $end (sub $total 1) }}<span>â€¦</span>{{ end }}
    <a href="{{ $paginator.Last.URL }}" class="{{ if eq $current $total }}active{{ end }}">{{ $total }}</a>
    {{ end }}
    {{ end }}

    {{ if $paginator.HasNext }}
    <a class="next" href="{{ $paginator.Next.URL }}">ä¸‹ä¸€é¡µ Â»</a>
    {{ end }}
  </nav>
  {{ end }}
</div>